<html>
 <head>  
  <title> 2MA_01 GAZP M5 </title>  
  <style>html, body, #container { width: 100%; height: 100%; margin: 0; padding: 0; }</style>
  <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-core.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-stock.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-annotations.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-exports.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-ui.min.js"></script>
 </head>
 <body>
  <div id="container"></div>  
  <script type="text/javascript"> 
    anychart.onDocumentReady(function () { 

	  //CHART Candlestick
      var data = [['2025-10-05 12:05', 114.24, 114.25, 114.22, 114.24, 20890], ['2025-10-05 12:10', 114.25, 114.25, 114.21, 114.22, 6340], ['2025-10-05 12:15', 114.22, 114.26, 114.22, 114.23, 65250], ['2025-10-05 12:20', 114.23, 114.23, 114.13, 114.16, 28250], ['2025-10-05 12:25', 114.14, 114.17, 114.13, 114.16, 8730], ['2025-10-05 12:30', 114.16, 114.17, 114.13, 114.14, 18970], ['2025-10-05 12:35', 114.14, 114.17, 114.0, 114.1, 122280], ['2025-10-05 12:40', 114.11, 114.15, 114.09, 114.14, 6760], ['2025-10-05 12:45', 114.15, 114.21, 114.12, 114.19, 7660], ['2025-10-05 12:50', 114.19, 114.26, 114.16, 114.26, 62790], ['2025-10-05 12:55', 114.26, 114.26, 114.15, 114.17, 38130], ['2025-10-05 13:00', 114.15, 114.21, 114.11, 114.16, 19250], ['2025-10-05 13:05', 114.17, 114.18, 114.15, 114.17, 5080], ['2025-10-05 13:10', 114.17, 114.17, 114.14, 114.17, 10140], ['2025-10-05 13:15', 114.18, 114.18, 114.03, 114.1, 18720], ['2025-10-05 13:20', 114.06, 114.15, 114.06, 114.13, 6020], ['2025-10-05 13:25', 114.13, 114.16, 114.01, 114.16, 25790], ['2025-10-05 13:30', 114.16, 114.16, 114.13, 114.13, 9070], ['2025-10-05 13:35', 114.19, 114.2, 114.19, 114.19, 830], ['2025-10-05 13:40', 114.16, 114.16, 114.13, 114.15, 1400], ['2025-10-05 13:45', 114.19, 114.19, 114.18, 114.19, 20330], ['2025-10-05 13:50', 114.18, 114.19, 114.18, 114.19, 18000], ['2025-10-05 13:55', 114.19, 114.19, 114.18, 114.19, 23060], ['2025-10-05 14:00', 114.19, 114.19, 114.17, 114.19, 132210], ['2025-10-05 14:05', 114.19, 114.29, 114.18, 114.25, 21100], ['2025-10-05 14:10', 114.26, 114.35, 114.26, 114.31, 58960], ['2025-10-05 18:55', 115.04, 115.07, 114.93, 114.98, 80770], ['2025-10-06 11:20', 115.66, 115.71, 115.53, 115.71, 254140], ['2025-10-06 11:25', 115.71, 115.83, 115.61, 115.8, 251900], ['2025-10-06 11:30', 115.8, 115.83, 115.68, 115.75, 110070], ['2025-10-06 11:35', 115.77, 115.93, 115.6, 115.82, 531870], ['2025-10-06 11:40', 115.81, 115.88, 115.76, 115.87, 99540], ['2025-10-06 11:45', 115.87, 116.02, 115.77, 115.86, 425470], ['2025-10-06 11:50', 115.86, 115.98, 115.77, 115.91, 122730], ['2025-10-06 11:55', 115.91, 115.91, 115.83, 115.91, 242660], ['2025-10-06 12:00', 115.91, 116.35, 115.91, 116.15, 978260], ['2025-10-06 12:05', 116.16, 116.21, 116.07, 116.09, 252580], ['2025-10-06 12:10', 116.13, 116.17, 115.92, 115.93, 218680], ['2025-10-06 12:15', 115.95, 116.05, 115.9, 115.97, 215530], ['2025-10-06 12:20', 115.97, 116.05, 115.93, 116.05, 406870], ['2025-10-06 12:25', 116.04, 116.8, 116.04, 116.79, 1927350], ['2025-10-06 12:30', 116.79, 116.95, 116.6, 116.73, 1416990], ['2025-10-06 12:35', 116.73, 116.95, 116.73, 116.78, 547460], ['2025-10-06 12:40', 116.78, 116.82, 116.6, 116.74, 381030], ['2025-10-06 12:45', 116.74, 116.89, 116.7, 116.72, 462720], ['2025-10-06 12:50', 116.73, 116.84, 116.62, 116.74, 169170], ['2025-10-06 12:55', 116.72, 117.08, 116.72, 117.08, 847520], ['2025-10-06 13:00', 117.06, 117.3, 116.84, 116.86, 635070], ['2025-10-06 13:05', 116.84, 116.95, 116.79, 116.94, 255000], ['2025-10-06 13:10', 116.94, 117.05, 116.8, 116.96, 292020], ['2025-10-06 13:15', 116.96, 117.03, 116.79, 116.84, 483810], ['2025-10-06 13:20', 116.83, 116.99, 116.75, 116.94, 447950], ['2025-10-06 13:25', 116.95, 116.99, 116.62, 116.7, 870530], ['2025-10-06 13:30', 116.7, 116.98, 116.65, 116.91, 174220], ['2025-10-06 13:35', 116.91, 117.05, 116.77, 116.79, 488480], ['2025-10-06 13:40', 116.77, 116.95, 116.67, 116.8, 590550], ['2025-10-06 13:45', 116.79, 116.92, 116.62, 116.85, 538900], ['2025-10-06 13:50', 116.86, 116.87, 116.51, 116.7, 632410], ['2025-10-06 13:55', 116.69, 116.86, 116.61, 116.77, 290530], ['2025-10-06 14:00', 116.78, 116.79, 116.57, 116.63, 231330], ['2025-10-06 14:05', 116.67, 116.94, 116.67, 116.79, 169210], ['2025-10-06 14:15', 116.76, 116.86, 116.62, 116.65, 206520], ['2025-10-06 14:25', 116.38, 116.63, 116.34, 116.56, 317820], ['2025-10-06 14:30', 116.58, 116.69, 116.44, 116.58, 226810], ['2025-10-06 14:35', 116.59, 116.64, 116.49, 116.53, 204300], ['2025-10-06 14:40', 116.51, 116.72, 116.5, 116.64, 236230], ['2025-10-06 14:45', 116.64, 116.73, 116.52, 116.6, 176310], ['2025-10-06 14:50', 116.56, 116.56, 116.31, 116.33, 777740], ['2025-10-06 14:55', 116.33, 116.53, 116.12, 116.21, 699270], ['2025-10-06 15:00', 116.2, 116.49, 116.1, 116.47, 697820], ['2025-10-06 15:05', 116.48, 116.49, 116.28, 116.38, 200300], ['2025-10-06 15:10', 116.38, 116.38, 116.03, 116.16, 277450], ['2025-10-06 15:15', 116.16, 116.19, 116.04, 116.14, 214280], ['2025-10-06 15:20', 116.13, 116.27, 116.05, 116.06, 258300], ['2025-10-06 15:25', 116.06, 116.09, 115.7, 115.99, 1042390], ['2025-10-06 15:30', 115.99, 116.0, 115.63, 115.74, 510510], ['2025-10-06 15:35', 115.75, 116.09, 115.74, 116.05, 497080], ['2025-10-06 15:40', 116.03, 116.16, 115.85, 115.98, 199290], ['2025-10-06 15:45', 116.0, 116.45, 115.82, 116.22, 572030], ['2025-10-06 15:50', 116.2, 116.33, 116.1, 116.3, 351880]]                    
      var dataTable = anychart.data.table(0);
      dataTable.addData(data);      
      var mapping = dataTable.mapAs({ open: 1, high: 2, low: 3, close: 4 });  // map the loaded data for the candlestick series       
      var chart = anychart.stock();       
      var plot = chart.plot(0);  // create the chart plot      
      plot.yGrid(true).xGrid(true).yMinorGrid(true).xMinorGrid(true);      
      var series = plot.candlestick(mapping);  // create the candlestick series
      series.name(" GAZP ");
      series.legendItem().iconType("rising-falling");
      series.risingStroke("#000000");
  	  series.risingFill("#ffffff");
      series.fallingStroke("#000000");
      series.fallingFill("#000000"); 

      //LINE Indicator
      table1 = anychart.data.table();
      table1.addData( [['2025-10-05 13:50', 114.16], ['2025-10-05 13:55', 114.16], ['2025-10-05 14:00', 114.17], ['2025-10-05 14:05', 114.18], ['2025-10-05 14:10', 114.2], ['2025-10-05 18:55', 114.29], ['2025-10-06 11:20', 114.46], ['2025-10-06 11:25', 114.65], ['2025-10-06 11:30', 114.82], ['2025-10-06 11:35', 115.0], ['2025-10-06 11:40', 115.19], ['2025-10-06 11:45', 115.37], ['2025-10-06 11:50', 115.56], ['2025-10-06 11:55', 115.73], ['2025-10-06 12:00', 115.86], ['2025-10-06 12:05', 115.91], ['2025-10-06 12:10', 115.92], ['2025-10-06 12:15', 115.95], ['2025-10-06 12:20', 115.97], ['2025-10-06 12:25', 116.07], ['2025-10-06 12:30', 116.17], ['2025-10-06 12:35', 116.27], ['2025-10-06 12:40', 116.36], ['2025-10-06 12:45', 116.42], ['2025-10-06 12:50', 116.49], ['2025-10-06 12:55', 116.62], ['2025-10-06 13:00', 116.72], ['2025-10-06 13:05', 116.82], ['2025-10-06 13:10', 116.84], ['2025-10-06 13:15', 116.85], ['2025-10-06 13:20', 116.87], ['2025-10-06 13:25', 116.86], ['2025-10-06 13:30', 116.89], ['2025-10-06 13:35', 116.89], ['2025-10-06 13:40', 116.86], ['2025-10-06 13:45', 116.86], ['2025-10-06 13:50', 116.83], ['2025-10-06 13:55', 116.81], ['2025-10-06 14:00', 116.81], ['2025-10-06 14:15', 116.77], ['2025-10-06 14:25', 116.73], ['2025-10-06 14:30', 116.7], ['2025-10-06 14:35', 116.67], ['2025-10-06 14:40', 116.65], ['2025-10-06 14:45', 116.64], ['2025-10-06 14:50', 116.59], ['2025-10-06 14:55', 116.54], ['2025-10-06 15:00', 116.51], ['2025-10-06 15:05', 116.48], ['2025-10-06 15:10', 116.43], ['2025-10-06 15:15', 116.38], ['2025-10-06 15:20', 116.33], ['2025-10-06 15:25', 116.26], ['2025-10-06 15:30', 116.16], ['2025-10-06 15:35', 116.13], ['2025-10-06 15:40', 116.11], ['2025-10-06 15:45', 116.08], ['2025-10-06 15:50', 116.07]] );	          
      mapping1 = table1.mapAs();
      mapping1.addField("value", 1);
      var plot1 = chart.plot(0).line(mapping1);
      plot1.stroke("#ff3300")

      //LINE Indicator
      table2 = anychart.data.table();
      table2.addData( [['2025-10-05 13:50', 114.17], ['2025-10-05 13:55', 114.17], ['2025-10-05 14:00', 114.16], ['2025-10-05 14:05', 114.17], ['2025-10-05 14:10', 114.18], ['2025-10-05 18:55', 114.22], ['2025-10-06 11:20', 114.29], ['2025-10-06 11:25', 114.37], ['2025-10-06 11:30', 114.45], ['2025-10-06 11:35', 114.52], ['2025-10-06 11:40', 114.6], ['2025-10-06 11:45', 114.68], ['2025-10-06 11:50', 114.76], ['2025-10-06 11:55', 114.85], ['2025-10-06 12:00', 114.94], ['2025-10-06 12:05', 115.04], ['2025-10-06 12:10', 115.12], ['2025-10-06 12:15', 115.21], ['2025-10-06 12:20', 115.3], ['2025-10-06 12:25', 115.42], ['2025-10-06 12:30', 115.55], ['2025-10-06 12:35', 115.67], ['2025-10-06 12:40', 115.79], ['2025-10-06 12:45', 115.91], ['2025-10-06 12:50', 116.03], ['2025-10-06 12:55', 116.16], ['2025-10-06 13:00', 116.25], ['2025-10-06 13:05', 116.31], ['2025-10-06 13:10', 116.36], ['2025-10-06 13:15', 116.42], ['2025-10-06 13:20', 116.47], ['2025-10-06 13:25', 116.51], ['2025-10-06 13:30', 116.56], ['2025-10-06 13:35', 116.6], ['2025-10-06 13:40', 116.64], ['2025-10-06 13:45', 116.68], ['2025-10-06 13:50', 116.71], ['2025-10-06 13:55', 116.75], ['2025-10-06 14:00', 116.78], ['2025-10-06 14:15', 116.81], ['2025-10-06 14:25', 116.8], ['2025-10-06 14:30', 116.79], ['2025-10-06 14:35', 116.78], ['2025-10-06 14:40', 116.77], ['2025-10-06 14:45', 116.77], ['2025-10-06 14:50', 116.73], ['2025-10-06 14:55', 116.7], ['2025-10-06 15:00', 116.68], ['2025-10-06 15:05', 116.65], ['2025-10-06 15:10', 116.62], ['2025-10-06 15:15', 116.58], ['2025-10-06 15:20', 116.55], ['2025-10-06 15:25', 116.51], ['2025-10-06 15:30', 116.46], ['2025-10-06 15:35', 116.42], ['2025-10-06 15:40', 116.38], ['2025-10-06 15:45', 116.36], ['2025-10-06 15:50', 116.33]] );	          
      mapping2 = table2.mapAs();
      mapping2.addField("value", 1);
      var plot2 = chart.plot(0).line(mapping2);
      plot2.stroke("#4444ff")

      //MARKERS 
      var controller = plot.annotations();  
      marker0 = controller.marker({ xAnchor: "2025-10-05 14:00", valueAnchor: 114.19, size: 15, offsetY: 10, normal:{fill:"#00ff00 0.5", stroke:"#00ff00"}, markerType:"arrowUp" });	
      marker1 = controller.marker({ xAnchor: "2025-10-06 14:15", valueAnchor: 116.65, size: 15, offsetY: -10, normal:{fill:"#ff0000 0.5", stroke:"#ff0000"}, markerType:"arrowDown" });	

      //COLUMN CHART (Trades)
	  table2 = anychart.data.table('x');
	  table2.addData( [] );
	  mapping2_pos = table2.mapAs({x:'x', value:'value'});
	  var series2_pos = chart.plot(2).column(mapping2_pos);
	  series2_pos.name("Приб");
	  mapping2_neg = table2.mapAs({x:'x', value:'value2'});
	  var series2_neg = chart.plot(2).column(mapping2_neg);
	  series2_neg.name("Убыт");
	  series2_neg.fill("#ff0000")
	  var plot2 = chart.plot(2)
	  plot2.height(150)
	  //plot2.yGrid().enabled(true)
	  var controller2 = plot2.annotations();  
	  controller2.horizontalLine({valueAnchor:0, stroke:"#000000"});


      chart.title(" 2MA_01  GAZP  M5 ");
      chart.container("container");
      chart.draw();
    });   
  </script>
  <div id="container2"></div>
  <style>#container2 { width: 1000; height: 400; margin: 0; padding: 0; }</style>
  <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-base.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-exports.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.13.0/js/anychart-ui.min.js"></script>
  <script type="text/javascript">
  //COLUMN CHART (Equity)
	anychart.onDocumentReady(function () { 
    //[{x:'2025-04-04 23:00', value:105000}]
    var data = [] 	  	    
    var chart = anychart.column();
    var series = chart.column(data);
    chart.title("Оценка портфеля");
    chart.xAxis().title("Время");
    chart.yAxis().title("Сумма");
    chart.barGroupsPadding(0.1);	
    chart.yScale().maximum(0.0);
    chart.yScale().minimum(9900.0);
    chart.container("container2");
    chart.draw();
	});
  </script>
    
      </body>
</html>
    